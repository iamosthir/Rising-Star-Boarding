(self.webpackChunk=self.webpackChunk||[]).push([[617],{4617:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});const s={data:function(){return{form:new Form({first_name:"",last_name:"",email:"",cell_phone:"",home_phone:"",address1:"",address2:"",city:"",state:"",zip:"",vetName:"",vetNumber:"",emergencyPerson:"",emergencyContact:""}),is_loading:!0,welcomeText:!1}},metaInfo:function(){return{title:"Edit Profile"}},methods:{getProfileData:function(){var t=this;axios.get(api2+"get-profile-data").then((function(t){return t.data})).then((function(e){t.form.first_name=e.first_name,t.form.last_name=e.last_name,t.form.email=e.email,t.form.cell_phone=e.profile.cell_phone,t.form.home_phone=e.profile.home_phone,t.form.city=e.profile.city,t.form.state=e.profile.state,t.form.zip=e.profile.zip,t.form.vetName=e.profile.vet_name,t.form.vetNumber=e.profile.vet_number,t.form.emergencyPerson=e.profile.emergency_person,t.form.emergencyContact=e.profile.emergency_contact,t.form.address1=e.profile.address1,t.form.address2=e.profile.address2,t.is_loading=!1})).catch((function(t){console.error(t.response.data)}))},updateProfileData:function(){var t=this;this.form.post(api2+"update-profile-data").then((function(t){return t.data})).then((function(e){"ok"==e.status&&(1==t.welcomeText?($("#popupModal1").modal({backdrop:"static",keyboard:!1}),$("#popupModal1").modal("show")):swal.fire("Profile updated",e.msg,"success"),t.welcomeText=!1,t.remove_hash_from_url())})).catch((function(t){console.error(t.response.data)}))},remove_hash_from_url:function(){var t=window.location.toString();if(t.indexOf("#")>0){var e=t.substring(0,t.indexOf("#"));window.history.replaceState({},document.title,e)}},returnHome:function(){$("#popupModal1").modal("hide"),this.$router.push({name:"home.profile"})},addPet:function(){$("#popupModal1").modal("hide"),this.$router.push({name:"home.add-pet"})}},mounted:function(){$("#popupModal1").on("show.bs.modal",(function(t){$(this).find("[role=document]").removeClass().addClass("modal-dialog a-lightSpeed")})),"#welcome"==window.location.hash&&(this.welcomeText=!0)},created:function(){this.getProfileData()}};const o=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[t.welcomeText?a("div",{staticClass:"col-md-9 mb-4"},[a("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[a("strong",[t._v("Welcome, "+t._s(t.form.last_name))]),t._v("  Â  You should complete your profile before making any reservation\n                    "),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"alert","aria-label":"Close"}})])]):t._e(),t._v(" "),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex justify-content-between"},[a("h5",{staticClass:"text-muted"},[t._v("Edit Profile")]),t._v(" "),a("div",[a("router-link",{staticClass:"btn my-btn",attrs:{to:{name:"home"},title:"Go back"}},[a("i",{staticClass:"fas fa-arrow-left"})])],1)]),t._v(" "),t.is_loading?a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-12 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"40px"}})],1)])]):t._e(),t._v(" "),t.is_loading?t._e():a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateProfileData.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("First name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("first_name")},attrs:{type:"text"},domProps:{value:t.form.first_name},on:{input:function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"first_name"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Last name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("last_name")},attrs:{type:"text"},domProps:{value:t.form.last_name},on:{input:function(e){e.target.composing||t.$set(t.form,"last_name",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"last_name"}})],1),t._v(" "),a("div",{staticClass:"col-md-12 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Email")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("email")},attrs:{type:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"email"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Cell phone number")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cell_phone,expression:"form.cell_phone"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("cell_phone")},attrs:{type:"tel"},domProps:{value:t.form.cell_phone},on:{input:function(e){e.target.composing||t.$set(t.form,"cell_phone",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"cell_phone"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Home Phone")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.home_phone,expression:"form.home_phone"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.home_phone},on:{input:function(e){e.target.composing||t.$set(t.form,"home_phone",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Address line 1")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address1,expression:"form.address1"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("address1")},attrs:{maxlength:"100"},domProps:{value:t.form.address1},on:{input:function(e){e.target.composing||t.$set(t.form,"address1",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"address1"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Address line 2 (Optional)")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address2,expression:"form.address2"}],staticClass:"form-control",domProps:{value:t.form.address2},on:{input:function(e){e.target.composing||t.$set(t.form,"address2",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("City")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("city")},attrs:{type:"text"},domProps:{value:t.form.city},on:{input:function(e){e.target.composing||t.$set(t.form,"city",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"city"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("State")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.state,expression:"form.state"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("state")},attrs:{type:"text"},domProps:{value:t.form.state},on:{input:function(e){e.target.composing||t.$set(t.form,"state",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"state"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Zip Code")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.zip,expression:"form.zip"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("zip")},attrs:{type:"text"},domProps:{value:t.form.zip},on:{input:function(e){e.target.composing||t.$set(t.form,"zip",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"zip"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Vet Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vetName,expression:"form.vetName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.vetName},on:{input:function(e){e.target.composing||t.$set(t.form,"vetName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Vet Number")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vetNumber,expression:"form.vetNumber"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.vetNumber},on:{input:function(e){e.target.composing||t.$set(t.form,"vetNumber",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Emergency Person")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.emergencyPerson,expression:"form.emergencyPerson"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.emergencyPerson},on:{input:function(e){e.target.composing||t.$set(t.form,"emergencyPerson",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3 my-form"},[a("label",{attrs:{for:""}},[t._v("Emergency Person Contact")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.emergencyContact,expression:"form.emergencyContact"}],staticClass:"form-control",attrs:{type:"tel"},domProps:{value:t.form.emergencyContact},on:{input:function(e){e.target.composing||t.$set(t.form,"emergencyContact",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-md-12 mb-3"},[a("Button",{staticClass:"rising-btn rising-btn-pink",attrs:{form:t.form}},[t._v("Update")])],1)])])])])])])]),t._v(" "),a("div",{staticClass:"modal animate a-lightSpeed",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-backdrop":"static",id:"popupModal1"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body text-center p-lg"},[t._m(0),t._v(" "),a("p",[t._v("Great ! Profile Updated")]),t._v(" "),a("h2",[t._v("Let's add some pets")]),t._v(" "),a("div",{staticClass:"mt-4"},[a("button",{staticClass:"rising-btn rising-btn-success mr-2",attrs:{type:"button"},on:{click:t.addPet}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Add Pets")]),t._v(" "),a("button",{staticClass:"rising-btn rising-btn-pink mr-2",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.returnHome}},[a("i",{staticClass:"fas fa-home"}),t._v(" Return home")])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"text-success"},[e("i",{staticClass:"fas fa-check-circle"})])}],!1,null,null,null).exports}}]);