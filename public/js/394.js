(self.webpackChunk=self.webpackChunk||[]).push([[394],{1394:(t,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>e});const n={data:function(){return{is_loading:!0,boardings:[],paginateData:{}}},methods:{getBoardingHistory:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;axios.get(api2+"get-boarding-history?page="+a).then((function(t){return t.data})).then((function(a){t.boardings=a.mainData,t.paginateData=a.paginateData,t.is_loading=!1})).catch((function(t){console.error(t.response.data)}))},cancelBooking:function(t,a){var s=this;swal.fire({title:"Alert!",text:"Are you sure you want to cancel your booking?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(n){n.isConfirmed&&axios.post(api2+"cancel-boarding",{boardingId:t}).then((function(t){return t.data})).then((function(t){"ok"==t.status?(swal.fire("Booking canceled",t.msg,"success"),s.boardings[a].status="canceled",s.boardings[a].statusText="Canceled"):swal.fire("Something Went Wrong",t.msg,"error")})).catch((function(t){console.error(t.response.data)}))}))}},created:function(){this.getBoardingHistory()}};const e=(0,s(1900).Z)(n,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row"},[t.is_loading?s("div",{staticClass:"col-12"},[s("h3",{staticClass:"p-2"},[t._v("Recent Boarding History")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},t._l(10,(function(t){return s("div",{key:t,staticClass:"col-12"},[s("skeleton",{attrs:{width:"100%",height:"30px"}})],1)})),0)]):t._e(),t._v(" "),t.is_loading?t._e():s("div",{staticClass:"col-md-12"},[s("h3",{staticClass:"p-2"},[t._v("Recent Boarding History")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"p-2"},[s("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),s("tbody",{staticClass:"table-body-c"},[t.boardings.length>0?t._l(t.boardings,(function(a,n){return s("tr",{key:n},[s("td",[t._v("#"+t._s(a.id))]),t._v(" "),s("td",[t._v(t._s(a.range))]),t._v(" "),s("td",[t._v(t._s(a.stay_day)+" Days")]),t._v(" "),s("td",[t._v(t._s(a.price)+" USD")]),t._v(" "),s("td",["pending"==a.status?s("span",{staticClass:"badge bg-warning"},[t._v(t._s(a.statusText))]):"onprogress"==a.status?s("span",{staticClass:"badge bg-info"},[t._v(t._s(a.statusText))]):"canceled"==a.status?s("span",{staticClass:"badge bg-danger"},[t._v(t._s(a.statusText))]):"completed"==a.status?s("span",{staticClass:"badge bg-success"},[t._v(t._s(a.statusText))]):t._e()]),t._v(" "),s("td",[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-outline-success dropdown-toggle",attrs:{type:"button",id:"dropdownMenu2","data-bs-toggle":"dropdown","aria-expanded":"false"}}),t._v(" "),s("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu2"}},[s("li",[s("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"boarding-details",params:{id:a.id}},type:"button"}},[t._v("See Details")])],1),t._v(" "),"pending"==a.status?s("li",[s("button",{staticClass:"dropdown-item text-danger",attrs:{type:"button"},on:{click:function(s){return t.cancelBooking(a.id,n)}}},[t._v("Cancel Booking")])]):t._e()])])])])})):[t._m(1)]],2)])]),t._v(" "),s("div",{staticClass:"d-flex justify-content-center"},[s("pagination",{attrs:{data:t.paginateData},on:{"pagination-change-page":t.getBoardingHistory}})],1)])])}),[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",{staticClass:"table-active table-head"},[s("th",[t._v("Booking ID")]),t._v(" "),s("th",[t._v("Reservation Range")]),t._v(" "),s("th",[t._v("Total Days")]),t._v(" "),s("th",[t._v("Price")]),t._v(" "),s("th",[t._v("Status")]),t._v(" "),s("th",[t._v("Action")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("td",{staticClass:"text-danger",attrs:{colspan:"6"}},[t._v("No booking records")])])}],!1,null,null,null).exports}}]);