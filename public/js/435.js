(self.webpackChunk=self.webpackChunk||[]).push([[435],{1435:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});const s={data:function(){return{is_loading:!0,petData:{},cdn,moment,deleting:!1,deleteText:"Delete",editMode:!1,form:new Form({petId:this.$route.params.id,petName:"",petColor:"",petBreed:"",petAge:"",rabiesExpDate:null,feed:"",medic:"",photo:"",vaccine:"",gender:""})}},metaInfo:function(){return{title:"Edit Pet"}},methods:{getPetData:function(){var t=this;axios.get(api2+"get-pet-data",{params:{petId:this.$route.params.id}}).then((function(t){return t.data})).then((function(e){"ok"==e.status?(t.petData=e.petData,t.form.petName=e.petData.name,t.form.petColor=e.petData.color,t.form.petAge=e.petData.age,t.form.rabiesExpDate=e.petData.rabies,t.form.petBreed=e.petData.breed,t.form.feed=e.petData.feeding,t.form.medic=e.petData.medic,t.form.gender=e.petData.gender,t.is_loading=!1):t.$router.push({name:"home.profile"})})).catch((function(e){console.error(e.response.data),t.$router.push({name:"home.profile"})}))},deletePet:function(){var t=this;swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(t.deleting=!0,t.deleteText="Please wait",axios.post(api2+"delete-pet",{petId:t.$route.params.id}).then((function(t){return t.data})).then((function(e){console.log(e),"ok"==e.status?swal.fire({title:"Deleted",text:e.msg,icon:"success"}).then((function(){t.$router.push({name:"home.profile"})})):swal.fire("Failed",e.msg,"error")})).catch((function(t){console.error(t.response.data)})))}))},photoChange:function(t){var e=t.target.files[0];this.form.photo=e||""},vacChange:function(t){var e=t.target.files[0];this.form.vaccine=e||""},updatePet:function(){var t=this;this.form.post(api2+"update-pet-data").then((function(t){return t.data})).then((function(e){console.log(e),"ok"==e.status?($('input[type="file"]').val(""),swal.fire("Updated",e.msg,"success"),t.getPetData(),t.editMode=!1):swal.fire("Fail to update",e.msg,"error")})).catch((function(t){console.error(t.response.data)}))}},created:function(){this.getPetData()}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[t.editMode?a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"profile-card bg-bg"},[a("div",{staticClass:"header d-flex justify-content-between"},[a("h4",{staticClass:"text-muted"},[t._v("Edit Mode")]),t._v(" "),a("button",{staticClass:"btn my-btn",on:{click:function(e){t.editMode=!1}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Â  Cancel")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.updatePet.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 group"},[a("label",{attrs:{for:""}},[t._v("Pet name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.petName,expression:"form.petName"}],class:{"is-invalid":t.form.errors.has("petName")},attrs:{type:"text",placeholder:"Pet name..."},domProps:{value:t.form.petName},on:{input:function(e){e.target.composing||t.$set(t.form,"petName",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"petName"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 group"},[a("label",{attrs:{for:""}},[t._v("Pet Color")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.petColor,expression:"form.petColor"}],class:{"is-invalid":t.form.errors.has("petColor")},attrs:{type:"text",placeholder:"Pet color..."},domProps:{value:t.form.petColor},on:{input:function(e){e.target.composing||t.$set(t.form,"petColor",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"petColor"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 group"},[a("label",{attrs:{for:""}},[t._v("Pet Breed")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.petBreed,expression:"form.petBreed"}],class:{"is-invalid":t.form.errors.has("petBreed")},attrs:{type:"text",placeholder:"Pet breed..."},domProps:{value:t.form.petBreed},on:{input:function(e){e.target.composing||t.$set(t.form,"petBreed",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"petBreed"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 group"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.petAge,expression:"form.petAge"}],class:{"is-invalid":t.form.errors.has("petAge")},attrs:{type:"number",placeholder:"Pet age..."},domProps:{value:t.form.petAge},on:{input:function(e){e.target.composing||t.$set(t.form,"petAge",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"petAge"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 group"},[a("label",{attrs:{for:""}},[t._v("Gender")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.gender,expression:"form.gender"}],class:{"is-invalid":t.form.errors.has("gender")},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"gender",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",hidden:""}},[t._v("Select Gender")]),t._v(" "),a("option",{attrs:{value:"Male"}},[t._v("Male")]),t._v(" "),a("option",{attrs:{value:"Female"}},[t._v("Female")])]),t._v(" "),a("HasError",{attrs:{form:t.form,field:"gender"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 group"},[a("label",{attrs:{for:""}},[t._v("Rabies Exp. Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.rabiesExpDate,expression:"form.rabiesExpDate"}],class:{"is-invalid":t.form.errors.has("rabiesExpDate")},attrs:{type:"date"},domProps:{value:t.form.rabiesExpDate},on:{input:function(e){e.target.composing||t.$set(t.form,"rabiesExpDate",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"rabiesExpDate"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 group"},[a("label",{attrs:{for:""}},[t._v("Change Pet Photograph")]),t._v(" "),a("input",{staticClass:"mt-2",attrs:{type:"file",accept:"image/*"},on:{change:t.photoChange}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"photo"}})],1),t._v(" "),a("div",{staticClass:"col-md-6 group"},[a("label",{attrs:{for:""}},[t._v("Change Vaccination Record")]),t._v(" "),a("input",{staticClass:"mt-2",attrs:{type:"file",accept:"image/*"},on:{change:t.vacChange}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"vaccine"}})],1),t._v(" "),a("div",{staticClass:"col-md-12 group"},[a("label",{attrs:{for:""}},[t._v("Feeding Instruction")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.feed,expression:"form.feed"}],class:{"is-invalid":t.form.errors.has("feed")},staticStyle:{height:"200px !important"},attrs:{rows:"15"},domProps:{value:t.form.feed},on:{input:function(e){e.target.composing||t.$set(t.form,"feed",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"feed"}})],1),t._v(" "),a("div",{staticClass:"col-md-12 group"},[a("label",{attrs:{for:""}},[t._v("Medication")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.medic,expression:"form.medic"}],class:{"is-invalid":t.form.errors.has("medic")},staticStyle:{height:"200px !important"},attrs:{rows:"15"},domProps:{value:t.form.medic},on:{input:function(e){e.target.composing||t.$set(t.form,"medic",e.target.value)}}}),t._v(" "),a("HasError",{attrs:{form:t.form,field:"medic"}})],1),t._v(" "),a("div",{staticClass:"col-md-12 mb-3 d-flex justify-content-start"},[a("Button",{staticClass:"rising-btn rising-btn-pink",attrs:{form:t.form}},[t._v("Update")]),t._v(" "),t.form.progress?a("p",{staticClass:"text-muted ms-4 mt-2"},[a("strong",[t._v("Uploading .... "+t._s(t.form.progress.percentage)+"%")])]):t._e()],1),t._v(" "),a("div",{staticClass:"col-md-12 mb-3"},[a("AlertError",{attrs:{form:t.form}},[t._v("Failed to update")])],1)])])])])]):t._e(),t._v(" "),t.editMode?t._e():a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"profile-card bg-bg"},[a("div",{staticClass:"header d-flex justify-content-between"},[a("h4",[t._v(t._s(t.petData.name))]),t._v(" "),a("router-link",{staticClass:"btn",attrs:{to:{name:"home.profile"}}},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Go back")])],1),t._v(" "),a("div",{staticClass:"card-body"},[t.is_loading?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 text-center mb-3"},[a("skeleton",{staticClass:"user-round",attrs:{width:"100px",height:"100px"}}),t._v(" "),a("br"),t._v(" "),a("skeleton",{attrs:{width:"150px",height:"20px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"20px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"20px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"20px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"20px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"20px"}})],1),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"20px"}})],1),t._v(" "),a("div",{staticClass:"col-md-12 mb-3"},[a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}}),t._v(" "),a("skeleton",{attrs:{width:"100%",height:"15px"}})],1)]):t._e(),t._v(" "),t.is_loading?t._e():a("div",{staticClass:"pet-info mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center mb-5"},[t.petData.photo?a("img",{staticClass:"user-thumb",attrs:{src:t.cdn+"/uploads/customer/"+t.petData.customer_id+"/"+t.petData.photo,alt:""}}):a("img",{staticClass:"user-thumb",attrs:{src:"/image/dog-placeholder-tall.svg",alt:""}}),t._v(" "),a("h3",{staticClass:"mt-2 text-muted"},[a("b",[t._v(t._s(t.petData.name))])])]),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[t._m(1),t._v(" "),a("p",{staticClass:"pet-details-text"},[t._v(t._s(t.petData.color))])]),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[t._m(2),t._v(" "),a("p",{staticClass:"pet-details-text"},[t._v(t._s(t.petData.breed))])]),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[t._m(3),t._v(" "),a("p",{staticClass:"pet-details-text"},[t._v(t._s(t.petData.age)+" Years")])]),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[t._m(4),t._v(" "),a("p",{staticClass:"pet-details-text"},[t._v(t._s(t.petData.gender))])]),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[t._m(5),t._v(" "),a("p",{staticClass:"pet-details-text"},[t._v(t._s(t.moment(t.petData.rabies).format("DD MMM YYYY")))])]),t._v(" "),a("div",{staticClass:"col-md-4 col-6 mb-3"},[t._m(6),t._v(" "),null==t.petData.vac_record?a("p",{staticClass:"pet-details-text"},[t._m(7)]):a("p",{staticClass:"pet-details-text"},[t._m(8),t._v(" "),a("a",{staticClass:"btn text-primary",attrs:{title:"Preview",target:"_blank",href:t.cdn+"/uploads/customer/"+t.petData.customer_id+"/"+t.petData.vac_record}},[a("i",{staticClass:"fas fa-download"})])])]),t._v(" "),a("div",{staticClass:"col-md-12 mb-3"},[t._m(9),t._v(" "),a("div",{staticClass:"text-info"},[t._v("\n                                        "+t._s(t.petData.feeding)+"\n                                    ")])]),t._v(" "),a("div",{staticClass:"col-md-12 mb-3"},[t._m(10),t._v(" "),a("div",{staticClass:"text-info"},[t._v("\n                                        "+t._s(t.petData.medic)+"\n                                    ")])])])])]),t._v(" "),a("div",{staticClass:"mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"edit-profile-btn",on:{click:function(e){t.editMode=!0}}},[t._v("Edit")]),t._v(" "),a("button",{staticClass:"edit-profile-btn bg-danger",attrs:{disabled:t.deleting},on:{click:t.deletePet}},[1==t.deleting?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n                                      "+t._s(t.deleteText)+"\n                                  ")])])])])])])])])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:""}},[t._v("Pet Age "),a("small",[t._v("(in years)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pet-items"},[a("h6",[a("b",[t._v("Color")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pet-items"},[a("h6",[a("b",[t._v("Breed")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pet-items"},[a("h6",[a("b",[t._v("Age")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pet-items"},[a("h6",[a("b",[t._v("Gender")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pet-items"},[a("h6",[a("b",[t._v("Rabies Expiration Date")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pet-items"},[a("h6",[a("b",[t._v("Vaccination Record")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"text-danger"},[a("i",{staticClass:"fas fa-times"}),t._v(" No")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"text-success"},[a("i",{staticClass:"fas fa-check"}),t._v(" Yes")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pet-items"},[a("h6",[a("b",[t._v("Feeding Instruction")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pet-items"},[a("h6",[a("b",[t._v("Medication")])])])}],!1,null,null,null).exports}}]);